<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <script src="lib/pixi.js" ></script>
        <script src="lib/tau-prolog.js"></script>

        <script src="javascript/traverse_init.js"></script>
        <script src="javascript/traverse_prolog.js"></script>

        <script src="javascript/traverse_dom_input.js"></script>
        <script src="javascript/traverse_game_objects.js"></script>

        <script src="javascript/traverse_main_loop.js"></script>
        <script src="javascript/game_states/traverse_load_state.js"></script>
        <script src="javascript/game_states/traverse_play_state.js"></script>
        <script src="javascript/game_states/traverse_create_state.js"></script>
        <script src="javascript/game_states/traverse_level_select_state.js"></script>
        <script src="javascript/game_states/traverse_title_state.js"></script>

        <link rel="stylesheet" type="text/css" href="style.css" />

        <title>Traverse 2 - GoshDarnGames</title>

    </head>

    <body>

        <script type="text/javascript">

            window.onload = function ()
            {
                let traverse_data = 
                {
                    canvas_size : 1024,
                    grid_size   : 16,
                    scale_coord : ( c ) => c * 64,
                };

                //initialize pixi

                traverse_data.pixi = PIXI;

                traverse_data.pixi_app =  
                    window.traverse.init_pixi 
                        ( PIXI, document, traverse_data );

                traverse.change_state ( new traverse.LoadState () );

                traverse_data.dom_elements = traverse.get_dom_elements ();

                traverse_data.pixi_app.ticker.add ( () =>
                {
                    traverse.main_loop ( traverse_data );
                });

                console.log ( "Runtime loaded." );

            };

        </script>

        <div id="root_container" >

            <div id="header_container" >
                <h1>Traverse 2</h1>
            </div>


            <div id="game_canvas_container" class="padded_container" >

                <canvas id="pixi_canvas"></canvas>

            </div>

            <div id="control_panel_container" class="flex_column ">

                <div id="control_panel_header" >
                    <span id="cp_title">Control Panel</span>
                </div>

                <div id="control_panel_content" >
                    Javascript is required.
                </div>

                <div id="control_panel_footer" >
                    <button id="mute_button" class="cp_footer_button" >
                        Mute
                    </button>
                </div>

            </div>

            <div id="footer_container" >
                <p>Additional information...</p>
            </div>
        </div>

    </body>
</html>
