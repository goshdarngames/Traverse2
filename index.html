<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <script src="lib/pixi.js" ></script>
        <script src="lib/tau-prolog.js"></script>

        <script src="javascript/traverse_init.js"></script>
        <script src="javascript/traverse_prolog.js"></script>

        <script src="javascript/traverse_dom_input.js"></script>

        <script src="javascript/traverse_main_loop.js"></script>
        <script src="javascript/game_states/traverse_load_state.js"></script>
        <script src="javascript/game_states/traverse_play_state.js"></script>

        <link rel="stylesheet" type="text/css" href="style.css" />

        <title>Traverse 2 - GoshDarnGames</title>

    </head>

    <body>

        <script type="text/javascript">

            window.onload = function ()
            {
                let traverse_data = {};

                //initialize prolog

                traverse_data.pixi = PIXI;

                traverse_data.pixi_app =  
                    window.traverse.init_pixi ( PIXI, document );

                traverse_data.pixi_app.ticker.add ( () =>
                {
                    traverse.mainLoop ( traverse_data );
                });

                console.log ( "Runtime loaded." );

            };

        </script>

        <div id="root_container">

            <div id="header_container" >
                <h1>Traverse 2</h1>
            </div>


            <div id="game_canvas_container" class="padded_container" >

                <canvas id="pixi_canvas"></canvas>

            </div>

            <div id="control_panel_container" class="padded_container" >

                <button class="tablinks" id="defaultOpen"
                        onclick="traverse.activate_tab(event, 'play_tab')">
                    Play
                </button>
                <button class="tablinks"
                        onclick="traverse.activate_tab(event, 'create_tab')">
                    Create
                </button>

                <div id="play_tab"  class="tabcontent" >
                    <div class="direction_panel centered">
                        <button class="dir_button up">
                            &#x1F881;
                        </button>
                        <button class="dir_button down">
                            &#x1F883;
                        </button>
                        <button class="dir_button left">
                            &#x1F880;
                        </button>
                        <button class="dir_button right">
                            &#x1F882;
                        </button>
                    </div>
                </div>

                <div id="create_tab" class="tabcontent" >
                    <h3>Create</h3>
                </div>

                <script>
                    // Open play by default
                    document.getElementById("defaultOpen").click();
                </script>
            </div>

            <div id="footer_container" >
                <p>Additional information...</p>
            </div>
        </div>

    </body>
</html>
